# Chapter05
>>对于关键进程，日志通常要记录：  
>>1. 收到的每条内部消息的id(还可以包含关键字段、长度、hash等)。
>>2. 收到的每条外部消息的全文。
>>3. 发出的每条消息的全文，每条消息都有全局唯一的id。
>>4. 关键内部状态的变更，等等。

## 5.3多线程异步日志
>>“异步日志”：用一个背景线程负责收集日志消息，并写入日志文件，其他业务线程只管往这个“日志线程”发送日志消息。
>> muduo日志库采用双缓冲(double buffering)技术，基本思路是准备两块buffer:A和B，前端负责往buffer A填数据（日志消息），后端负责将buffer B的数据写入文件。定时交换/将buffer A写满之后交换A和B。
